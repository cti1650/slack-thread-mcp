{
  "_comment": "Claude Code settings.json / settings.local.json の設定例",
  "_usage": "このファイルの内容を .claude/settings.json または .claude/settings.local.json にコピーしてください",
  "_env_note": ".env ファイルにSLACK設定を配置してください（SLACK_BOT_TOKEN, SLACK_DEFAULT_CHANNEL等）",
  "_how_it_works": "SessionStartで--save-envにより job-id + Slack設定が環境変数に保存され、以降のフックで自動使用されます",
  "permissions": {
    "allow": [
      "Bash(npx slack-thread-mcp *)",
      "Bash(npx slack-notify *)",
      "Bash(node build/cli.js *)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp start --stdin --save-env --title=\"Claude Code Task\""
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp update --message=\"プロンプト受信\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp update --message=\"ツール実行完了\""
          }
        ]
      }
    ],
    "PermissionRequest": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp waiting --reason=\"権限確認待ち\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp update --message=\"応答完了\" --level=debug"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx slack-thread-mcp complete --summary=\"Session completed\""
          }
        ]
      }
    ]
  }
}
